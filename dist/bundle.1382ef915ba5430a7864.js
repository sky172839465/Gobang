webpackJsonp([0,1],[function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHESS_SIZE=60,t.VICTORY_CONDITION=5,t.SLASH_DISTANCE=1.414,t.STRAIGHT_DISTANCE=1},function(e,t,s){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.checkmateChessList=t.gameoverElement=t.lastChess=t.attackSide=t.player=t.setCommonFunction=t.chessOverlayStyles=t.createChess=t.getChessboardGrid=t.start=void 0;var i=a(s(0)),r=a(s(6)),n=a(s(7)),o=a(s(8)),c=void 0,l=void 0,d=[],h=document.querySelector(".gameover"),u={},f=function(){var e;(e=document.createElement("canvas")).getContext&&e.getContext("2d")?(t.getChessboardGrid=c=n.getGrid,t.createChess=l=n.createChess,t.chessOverlayStyles=d=n.overlayStyles):(t.getChessboardGrid=c=o.getGrid,t.createChess=l=o.createChess,t.chessOverlayStyles=d=o.overlayStyles)},v=function(){h.classList.add("gameover--hide"),u.player={whiteSide:{key:"white",chesses:[]},blackSide:{key:"black",chesses:[]}},u.attackSide="whiteSide",u.checkmateChessList=[]},C=function(){var e;for((e=document.querySelector(".chessboard")).setAttribute("style","width:"+e.clientWidth+"px"),e.style.width=e.clientWidth+"px";e.childNodes.length>0;)e.childNodes[0].parentNode.removeChild(e.childNodes[0])},g=function(){var e,t,s,a,r,n,o,l,d,h;for(n=document.querySelector(".chessboard"),o=Math.floor(n.clientHeight/i.CHESS_SIZE),a=(l=Math.floor(n.clientWidth/i.CHESS_SIZE))*i.CHESS_SIZE-(i.CHESS_SIZE-1),r=o*i.CHESS_SIZE-(i.CHESS_SIZE-1),n.setAttribute("style","width:"+n.clientWidth+"px"),n.style.width=n.clientWidth+"px",s=c(a,r),n.appendChild(s),d=0;d<o;d++){for((e=document.createElement("div")).classList.add("chessboard__row"),h=0;h<l;h++)(t=document.createElement("div")).classList.add("chessboard__column"),t.classList.add("pointer"),t.setAttribute("data-asix-x",h),t.setAttribute("data-asix-y",d),t.onclick=function(e){S(e)},e.appendChild(t);n.appendChild(e)}},m=function(e){var t;return t=document.createElement("div"),d.forEach(function(e){t.classList.add(e)}),t.classList.add("chessman__overlay--"+e),t},x=function(){return u.player[u.attackSide]},S=function(e){var t,s,a,i;t=e.target,s=x(),a=m("last"),-1===t.className.indexOf("chessboard__column")&&(t=t.closest(".chessboard__column")),-1===t.className.indexOf("selected")&&(i=l(s),_(),t.appendChild(i),t.appendChild(a),t.classList.add("selected"),u.lastChess=t,s.chesses.push(t),u.lastChess&&p()&&(_(),b(u.checkmateChessList),T(u.attackSide)),u.attackSide="whiteSide"===u.attackSide?"blackSide":"whiteSide")},p=function(){var e,t,s,a,n,o,c=!1;if(e=x(),(t=r.getRangeChesses(i.VICTORY_CONDITION,u.lastChess,e)).length>=i.VICTORY_CONDITION)for(a in s=r.getGroupChesses(u.lastChess,t))if(s[a].length>=i.VICTORY_CONDITION&&(n=r.getSortChesses(a,s[a]),o=y(a),u.checkmateChessList=r.getConnectChesses(i.VICTORY_CONDITION,o,n),u.checkmateChessList.length>=i.VICTORY_CONDITION))return c=!0;return c},_=function(){var e;for(e=document.getElementsByClassName("chessman__overlay");e.length>0;)e[0].parentNode.removeChild(e[0])},y=function(e){var t;switch(e){case"leftTopToRightBottom":case"leftBottomToRightTop":t=i.SLASH_DISTANCE;break;case"vertical":case"horizontal":t=i.STRAIGHT_DISTANCE}return t},b=function(e){var t,s,a,i,r;for(i=0;i<e.length;i++){for((t=e[i]).classList.add("chessboard__column--victory"),s=t.childNodes,r=0;r<s.length;r++)-1!==s[r].className.indexOf("chessman")&&s[r].classList.add("chessman--victory");a=m("victory"),t.appendChild(a)}},T=function(e){document.querySelector(".gameover__message").innerText="Winner is "+e+" !",h.classList.remove("gameover--hide")};t.start=function(e){e.target.innerText="Restart",f(),v(),C(),g()},t.getChessboardGrid=c,t.createChess=l,t.chessOverlayStyles=d,t.setCommonFunction=f,t.player=void 0,t.attackSide=void 0,t.lastChess=void 0,t.gameoverElement=h,t.checkmateChessList=void 0},function(e,t){},function(e,t,s){e.exports=s.p+"img/Octocat.png"},function(e,t,s){e.exports=s.p+"img/favicon.png"},function(e,t,s){e.exports=s.p+"img/gobang.png"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return{asixX:+e.getAttribute("data-asix-x"),asixY:+e.getAttribute("data-asix-y")}},i=function(e,t){var s,a;return s=e.asixX-t.asixX,a=e.asixY-t.asixY,+Math.pow(s*s+a*a,.5).toFixed(3)},r=function(e,t,s){return Math.abs(e.asixX-t.asixX)<s&&Math.abs(e.asixY-t.asixY)<s},n=function(e,t){return e.asixX<t.asixX&&e.asixY<t.asixY||e.asixX>t.asixX&&e.asixY>t.asixY},o=function(e,t){return e.asixX<t.asixX&&e.asixY>t.asixY||e.asixX>t.asixX&&e.asixY<t.asixY};t.getRangeChesses=function(e,t,s){var i,n;return i=a(t),s.chesses.filter(function(t){return n=a(t),!!r(n,i,e)})},t.getGroupChesses=function(e,t){var s,i,r,c,l,d={leftTopToRightBottom:[],leftBottomToRightTop:[],vertical:[],horizontal:[]};for(s=a(e),l=0;l<t.length;l++)if(r=t[l],c=a(r),Math.abs(c.asixX-s.asixX)===Math.abs(c.asixY-s.asixY)){if(n(c,s))d.leftTopToRightBottom.push(r);else if(o(c,s))d.leftBottomToRightTop.push(r);else if(c.asixX===s.asixX&&c.asixY===s.asixY)for(i in d)d[i].push(r)}else c.asixX===s.asixX&&c.asixY!==s.asixY?d.vertical.push(r):c.asixX!==s.asixX&&c.asixY===s.asixY&&d.horizontal.push(r);return d},t.getSortChesses=function(e,t){var s;switch(e){case"horizontal":s=t.sort(function(e,t){var s,i;return s=a(e),i=a(t),s.asixX>i.asixX?1:s.asixX<i.asixX?-1:0});break;case"leftTopToRightBottom":case"leftBottomToRightTop":case"vertical":s=t.sort(function(e,t){var s,i;return s=a(e),i=a(t),s.asixY>i.asixY?1:s.asixY<i.asixY?-1:0})}return s},t.getConnectChesses=function(e,t,s){var r,n,o,c,l=[];for(c=0;c<s.length;c++)if(r=s[c],0===l.length?l.push(r):(n=a(l[l.length-1]),o=a(r),t!==i(n,o)&&(l.length=0),l.push(r)),l.length>=e)return l;return l}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.overlayStyles=t.createChess=t.getGrid=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}(s(0));t.getGrid=function(e,t){var s,i,r;for((s=document.createElement("canvas")).classList.add("chessboard__grid"),s.width=e,s.height=t,(i=s.getContext("2d")).save(),i.lineWidth=1,i.strokeStyle="black",r=.5;r<i.canvas.height;r+=a.CHESS_SIZE)i.beginPath(),i.moveTo(0,r),i.lineTo(i.canvas.width,r),i.stroke();for(r=.5;r<i.canvas.width;r+=a.CHESS_SIZE)i.beginPath(),i.moveTo(r,0),i.lineTo(r,i.canvas.height),i.stroke();return i.restore(),s},t.createChess=function(e){var t,s;return(t=document.createElement("canvas")).width=a.CHESS_SIZE/2,t.height=a.CHESS_SIZE/2,t.classList.add("chessman"),(s=t.getContext("2d")).beginPath(),s.arc(15,15,15,0,2*Math.PI),s.fillStyle=e.key,s.fill(),t},t.overlayStyles=["chessman__overlay"]},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.overlayStyles=["chessman__overlay","chessman__overlay--div"],t.getGrid=function(e,t){var s;return(s=document.createElement("div")).style.width=e+"px",s.style.height=t+"px",s.classList.add("chessboard__grid"),s.classList.add("chessboard__grid--div"),s},t.createChess=function(e){var t;return(t=document.createElement("div")).classList.add("chessman"),t.classList.add("chessman__div"),t.classList.add("chessman__div--"+e.key),t}},function(e,t,s){"use strict";var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}(s(1));s(2),s(4),s(5),s(3),window.start=function(e){a.start(e)}}],[9]);
//# sourceMappingURL=bundle.1382ef915ba5430a7864.js.map